<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Royal Games Neemuch | PS5 & Xbox Rentals</title>
<meta name="description" content="Royal Games provides PlayStation 5 and Xbox on rent in Neemuch, Madhya Pradesh. Affordable gaming rentals. Call or WhatsApp 9303088645 to book today.">
<meta name="keywords" content="PS5 rent Neemuch, Xbox rent Neemuch, PlayStation rental Neemuch, gaming console rent Neemuch, Royal Games Neemuch">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&family=Roboto&display=swap" rel="stylesheet">

<style>
/* --- YOUR EXACT ORIGINAL CSS --- */
body{margin:0;font-family:'Roboto',sans-serif;background:#0b0f1a;color:#fff;transition:0.5s;}
.header{background:linear-gradient(90deg,#111827,#1e293b);padding:25px 15px;text-align:center;border-bottom:4px solid gold}
.header h1{margin:0;font-family:'Orbitron',sans-serif;color:gold;font-size:36px;letter-spacing:3px}
.tag{color:#cbd5e1;font-size:16px;margin-top:5px}
.section{padding:30px 15px}
.card{background:#111827;border-radius:20px;padding:20px;margin:20px auto;max-width:520px;box-shadow:0 0 20px rgba(0,255,255,.1);transition:.3s;border: 1px solid transparent;}
.card:hover{transform:translateY(-5px);box-shadow:0 0 25px rgba(0,255,255,.3)}
.card img{width:100%;border-radius:15px;margin-bottom:15px}
.game-list{background:#1f2937;padding:15px;border-radius:12px;box-shadow:inset 0 0 10px rgba(255,255,255,.05);margin-top:15px}
.game-list h3{color:#0ea5e9;margin-bottom:10px;font-family:'Orbitron',sans-serif}
.game-list p{margin:5px 0;padding:5px;border-radius:8px;transition:.3s}
.game-list p:hover{background:#0ea5e9;color:#0b0f1a;cursor:pointer;font-weight:bold}
.price{font-size:20px;color:#22c55e;font-weight:bold;margin-top:10px}
.btn,.booking button{display:block;width:100%;padding:16px;background:#25D366;color:#fff;text-decoration:none;border-radius:12px;font-weight:bold;font-size:18px;text-align:center;margin-top:12px;cursor:pointer;border:none}
.btn:hover,.booking button:hover{background:#1ebe57}
.booking input,.booking select,.booking textarea{width:95%;padding:14px;margin-top:10px;border-radius:12px;border:none;font-size:16px;background:#1f2937;color:#fff}
.booking textarea{height:80px}
.booking h2{color:#f87171;font-family:'Orbitron',sans-serif}
.rules{line-height:28px;font-size:16px}
.footer{background:black;padding:18px;text-align:center;margin-top:25px;color:#9ca3af}
.floating-call{position:fixed;bottom:22px;right:20px;width:65px;height:65px;background:linear-gradient(135deg,#22c55e,#15803d);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;color:white;text-decoration:none;box-shadow:0 10px 25px rgba(0,0,0,0.5);z-index:9999;animation:pulse 2s infinite}
@keyframes pulse{0%{box-shadow:0 0 0 0 rgba(34,197,94,0.7);}70%{box-shadow:0 0 0 18px rgba(34,197,94,0);}100%{box-shadow:0 0 0 0 rgba(34,197,94,0);}}
.review-gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:12px}

/* --- THEME & GHOST STYLES --- */
body.gold-theme .header { border-bottom: 4px solid #fbbf24; }
body.gold-theme .card { border-color: #fbbf24; }
body.platinum-theme { background: #020617; }
body.platinum-theme .header { border-bottom: 4px solid #38bdf8; }
body.platinum-theme .header h1 { color: #fff; text-shadow: 0 0 15px #38bdf8; }
#loyaltyBanner { display: none; margin-bottom: 10px; padding: 12px; border-radius: 12px; text-align: center; font-weight: bold; color: #000; font-family: 'Orbitron'; }
#ghostAlert { position: fixed; bottom: 100px; left: 20px; background: gold; color: #000; padding: 15px; border-radius: 12px; font-weight: bold; display: none; z-index: 1000; box-shadow: 0 5px 15px rgba(0,0,0,0.5); }
</style>
</head>
<body id="mainBody">

<div id="ghostAlert"></div>

<div class="header">
    <h1>üëë ROYAL GAMES</h1>
    <div class="tag">PS5 & Xbox Console Rental Service ‚Äî Neemuch (MP)</div>
</div>

<div class="section">
<div class="card">
    <h2>PlayStation 5</h2>
    <img src="images.jpeg">
    <div class="price">‚Çπ<span id="p5_1">500</span> / 1 Day</div>
    <div class="price">‚Çπ<span id="p5_2">800</span> / 2 Days</div>
    <div class="game-list">
        <h3>Available PS5 Games üéÆ</h3>
        <p>‚Ä¢ GTA V & GTA Online</p>
        <p>‚Ä¢ Black Myth Wukong</p>
        <p>‚Ä¢ Ghost of Yotei</p>
        <p>‚Ä¢ Ghost of Tsushima</p>
        <p>‚Ä¢ Roblox</p>
        <p>‚Ä¢ Spider-Man Remastered</p>
        <p>‚Ä¢ The Last of Us Part II</p>
        <p>‚Ä¢ God of War Ragnar√∂k</p>
        <p style="color:#facc15;font-weight:bold;">Want a game we don't have? Message us below!</p>
    </div>
</div>
</div>

<div class="section">
<div class="card">
    <h2>Xbox One</h2>
    <img src="images (1).jpeg">
    <div class="price">‚Çπ<span id="xb_1">400</span> / 1 Day</div>
    <div class="price">‚Çπ<span id="xb_2">700</span> / 2 Days</div>
    <div class="game-list">
        <h3>Available Xbox Games üïπÔ∏è</h3>
        <p>‚Ä¢ GTA V & GTA Online</p>
        <p>‚Ä¢ Forza Horizon 5</p>
        <p>‚Ä¢ Minecraft</p>
        <p>‚Ä¢ Call of Duty: Modern Warfare 2</p>
        <p>‚Ä¢ Among Us</p>
        <p>‚Ä¢ Mortal Kombat 11</p>
        <p>‚Ä¢ F1 2024</p>
        <p>‚Ä¢ FIFA 25</p>
    </div>
</div>
</div>

<div class="section"><div class="card rules"><h2>Rules</h2>‚Ä¢ Valid ID proof required<br>‚Ä¢ Handle controller carefully<br>‚Ä¢ Late return extra charge<br>‚Ä¢ Damage charges applicable</div></div>
<div class="section"><div class="card contact"><h2>Booking & Contact</h2>üìç Neemuch, Madhya Pradesh<br>üìû 9303088645</div></div>

<div class="card booking">
  <h2>üéÆ Book Your Console</h2>
  <div id="loyaltyBanner"></div>
  <input type="text" id="name" placeholder="Your Name">
  <input type="tel" id="phone" placeholder="Mobile Number" oninput="checkLoyalty()">
  <select id="console">
    <option value="PS5">PS5</option>
    <option value="Xbox One">Xbox One</option>
  </select>
  <input type="date" id="startDate">
  <select id="days">
    <option value="1">1 Day</option>
    <option value="2">2 Days</option>
  </select>
  <input type="text" id="coupon" placeholder="Enter Coupon Code (optional)">
  <div id="finalPrice" style="margin-top:8px;color:#22c55e;font-weight:bold;"></div>
  <input type="text" id="requestedGame" placeholder="Request a game (optional)">
  <button id="bookBtn" onclick="sendToWhatsApp(event)">Book on WhatsApp</button>
</div>

<div class="section"><div class="card booking"><h2 style="color:#facc15;">üìù Give a Review</h2><input type="text" id="reviewName" placeholder="Your Name"><textarea id="reviewMessage" placeholder="Write your review"></textarea><button type="button" onclick="sendReview()">Send Review</button></div></div>
<div class="section"><div class="card"><h2>‚≠ê Review Gallery</h2><div id="reviewGallery" class="review-gallery"></div></div></div>

<div class="section">
<div class="card booking">
<h2 style="color:#38bdf8;">‚ùì Ask a Doubt / Question</h2>
<input type="text" id="doubtName" placeholder="Your Name" required>
<textarea id="doubtMessage" placeholder="Type your question" required></textarea>
<button type="button" onclick="sendDoubt()">Send Question</button>
</div>
</div>

<div class="footer">¬© 2026 Royal Games ‚Äî Gaming Console Rentals</div>
<a href="tel:9303088645" class="floating-call">üìû</a>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
// Firebase Init
const firebaseConfig = { databaseURL: "https://royalgamesproject-default-rtdb.asia-southeast1.firebasedatabase.app" };
firebase.initializeApp(firebaseConfig);
const db = firebase.database();

let currentSurge = 1.0;
let userLevel = "Bronze";

function showPopup(message){
  const p = document.createElement("div");
  p.style = "position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#111827;color:#fff;padding:25px;border-radius:14px;z-index:10000;text-align:center;box-shadow:0 0 30px #000;";
  p.innerHTML = `<div style="font-weight:bold;margin-bottom:10px;">${message}</div><button onclick="this.parentElement.remove()" style="background:#22c55e;border:none;color:#fff;padding:8px 16px;border-radius:8px;cursor:pointer;">OK</button>`;
  document.body.appendChild(p);
}

// 1. ADMIN LISTENER
db.ref('remoteControl').on('value', snap => {
    const data = snap.val() || {};
    currentSurge = data.surge || 1.0;
    document.getElementById('p5_1').innerText = Math.round(500 * currentSurge);
    document.getElementById('p5_2').innerText = Math.round(800 * currentSurge);
    document.getElementById('xb_1').innerText = Math.round(400 * currentSurge);
    document.getElementById('xb_2').innerText = Math.round(700 * currentSurge);
    if(data.ps5Locked && data.xboxLocked) { document.getElementById('bookBtn').innerText = "Rentals Paused"; document.getElementById('bookBtn').disabled = true; }
    if(data.ghostMode) startGhostMode();
    calculatePrice();
});

// 2. LOYALTY CHECK
function checkLoyalty() {
    const phone = document.getElementById('phone').value.trim();
    const banner = document.getElementById('loyaltyBanner');
    const body = document.getElementById('mainBody');
    if(phone.length < 10) { body.className = ""; banner.style.display="none"; userLevel="Bronze"; calculatePrice(); return; }

    db.ref('customerStats/' + phone).once('value', snap => {
        const d = snap.val(); body.className = "";
        if(d && d.level) {
            userLevel = d.level; banner.style.display = "block";
            if(userLevel === "Platinum") { body.classList.add("platinum-theme"); banner.innerText = "üíé PLATINUM MEMBER: 15% OFF"; banner.style.background = "#38bdf8"; }
            else if(userLevel === "Gold") { body.classList.add("gold-theme"); banner.innerText = "üëë GOLD MEMBER: 10% OFF"; banner.style.background = "#fbbf24"; }
        } else { userLevel = "Bronze"; banner.style.display="none"; }
        calculatePrice();
    });
}

// 3. PRICE CALCULATION (SURGE + COUPONS + LOYALTY)
function calculatePrice() {
    const consoleType = document.getElementById('console').value;
    const days = document.getElementById('days').value;
    const coupon = document.getElementById('coupon').value.trim().toUpperCase();
    if(!days) return;

    let base = (consoleType === "PS5") ? (days === "1" ? 500 : 800) : (days === "1" ? 400 : 700);
    let surged = Math.round(base * currentSurge);

    let couponDisc = 0;
    if(coupon === "CONGRATS100") couponDisc = 500;
    if(coupon === "CONGRATS50" && consoleType === "PS5") couponDisc = 250;
    if(coupon === "CONGRATS40" && consoleType === "PS5") couponDisc = 200;

    let loyaltyPct = (userLevel === "Gold") ? 0.10 : (userLevel === "Platinum" ? 0.15 : 0);
    let loyaltyDisc = Math.round(surged * loyaltyPct);

    let final = surged - couponDisc - loyaltyDisc;
    document.getElementById("finalPrice").innerText = `Total: ‚Çπ${final < 0 ? 0 : final}`;
    return final;
}

// 4. SEND BOOKING (WITH POPUP CONFLICT CHECK)
function sendToWhatsApp(event) {
    const btn = document.getElementById('bookBtn');
    btn.disabled = true; btn.innerText = "Checking...";

    const name = document.getElementById('name').value;
    const phone = document.getElementById('phone').value;
    const consoleType = document.getElementById('console').value;
    const startDate = document.getElementById('startDate').value;
    const days = document.getElementById('days').value;
    const final = calculatePrice();
    const custID = 'RG' + Date.now();

    if(!name || !phone || !startDate) { showPopup("Please fill all fields!"); btn.disabled = false; btn.innerText = "Book on WhatsApp"; return; }

    db.ref('bookings').once('value', snap => {
        let conflict = false;
        snap.forEach(child => {
            const b = child.val();
            if(b.console === consoleType && b.startDate === startDate && b.status === "Active") conflict = true;
        });

        if(conflict) {
            showPopup(`‚ùå ${consoleType} is already booked on ${startDate}. Please choose another date.`);
            btn.disabled = false; btn.innerText = "Book on WhatsApp";
            return;
        }

        db.ref('bookings/' + custID).set({
            name, phone, console: consoleType, startDate, finalPrice: final, status: "Active", timestamp: Date.now()
        }).then(() => {
            const msg = `üéÆ *Royal Games Booking*\nID: ${custID}\nName: ${name}\nConsole: ${consoleType}\nPrice: ‚Çπ${final}\nLevel: ${userLevel}`;
            window.open("https://wa.me/919303088645?text=" + encodeURIComponent(msg));
            btn.disabled = false; btn.innerText = "Book on WhatsApp";
        });
    });
}

function sendDoubt() {
    const name = document.getElementById('doubtName').value;
    const msg = document.getElementById('doubtMessage').value;
    window.open("https://wa.me/919303088645?text=" + encodeURIComponent(`‚ùì *New Doubt from ${name}*\n${msg}`));
}

function startGhostMode() {
    setInterval(() => {
        const el = document.getElementById('ghostAlert');
        el.innerText = `üî• Someone from Neemuch just booked a PS5!`;
        el.style.display = 'block'; setTimeout(() => el.style.display='none', 4000);
    }, 28000);
}

function loadReviews() {
    db.ref('reviews').limitToLast(6).on('value', snap => {
        const gallery = document.getElementById('reviewGallery'); gallery.innerHTML = '';
        snap.forEach(c => { gallery.innerHTML += `<div style="background:#1f2937;padding:12px;border-radius:12px;margin-bottom:10px;"><strong>${c.val().name}</strong> ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê<p>${c.val().message}</p></div>`; });
    });
}

['days','console','coupon','startDate'].forEach(id => document.getElementById(id).addEventListener('change', calculatePrice));
window.onload = loadReviews;
</script>
</body>
                                           </html>






        
